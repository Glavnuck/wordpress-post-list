# WordPress Post List Plugin

Плагин WordPress Post List (WPPL) предназначен для организации архива блога. Он умеет генерировать и вставлять в любые страницы удобные списки постов и облака тегов.

**Update:** Плагин был написан в незапамятные времена на PHP4, довольно давно не обновлялся, но всё ещё совместим с текущими версиями WordPress (3+).

## Как установить?

Процесс установки обыкновенный для WordPress-плагинов. Помещаем директорию `wp-postlist` из архива в каталог `/wp-content/plugins/`, после чего активируем плагин в панели управления WordPress. Версия WP должна быть не ниже 2.5.

![1-installed.png](/dreikanter/wordpress-post-list/raw/master/screenshots/1-installed.png)

## Как работает?

Плагин заменяет специальные ключевые слова в тексте страницы на динамически-генерируемые списки постов и облака тегов. Всего существует два ключевых слова: tagcloud для тегов, и postlist для постов (указываются в квадратных скобках). При желании, ключевые слова можно переопределить в настройках.

![2-archive-page.png](/dreikanter/wordpress-post-list/raw/master/screenshots/2-archive-page.png)

См. так же скриншот [paradigm.ru/archive](/dreikanter/wordpress-post-list/raw/master/screenshots/2-archive-page-full.png) в полный рост.

## Как настроить и использовать?

Плагин настраивается через интерфейс администратора (*Settings / Post List*). Для начала работы, никаких изменений в предустановленных параметрах делать не требуется.

Как было упомянуто, строки для автозамены можно заменить именно здесь. Tag cloud replacement — это то, что будет заменено на облако тегов, а Post list replacement — на список постов.

![3-options.png](/dreikanter/wordpress-post-list/raw/master/screenshots/3-options.png)

Так же можно задать строку-префикс для названий категорий в списке постов, и включить или выключить режим плавной прокрутки при переходе по внутристраничным ссылкам. Как это работает проще всего узнать, покликав по названиям категорий в архиве этого блога).

Параметрами Max tags number и Max posts number ограничивается максимальное количество тегов в облаке и постов в каждой категории. Если им заданы ненулевые значения, будут выводиться наиболее популярные теги и самые последние по времени публикации посты. В том случае, если ничего сокращать не нужно, просто оставьте эти поля пустыми или задайте 0.

В конец сокращенных списков автоматически добавляются ссылки для их раскрытия (текст таких ссылок, кстати, так же можно поменять через параметр *Expand link text*). По клику на такую ссылку список разворачивается без перезагрузки всей страницы.

![4-expander.png](/dreikanter/wordpress-post-list/raw/master/screenshots/4-expander.png)

Стоит отметить, что если плавная прокрутка включена, к шаблону страницы автоматически подключается JS-библиотека MooTools, на основе которой все реализовано. Это может несколько замедлить первую загрузку, но после JS-файл сохранится в кэше браузера и тормозить открытие страниц уже не будет.

WPPL рекомендуется использовать в сочетании с кэширующим плагином. Например, прекрасно подойдет WP Cache 2. Это снизит количество обращений к БД и ускорит генерацию страниц блога.

## Как добавить синенького?

HTML код, генерируемый WPPL, содержит в себе спецификаторы CSS-классов, с помощью которых его можно оформить в соответствии с общим дизайном сайта. Плагин не подключает свой собственный CSS-файл к шаблону (это сделано намеренно, чтобы не плодить лишние HTTP-запросы к серверу), но в дистрибутиве содержится пример определения такого стиля (`wp-postlist.css`).

* `.pl_cloud` — контейнер облака тегов.
* `.pl_contents` — контейнер для списка внутристраничных ссылок на категории.
* `.pl_cat_title` — заголовок категории.
* `.pl_prefix` — префикс для заголовка категории.
* `.pl_cnt` — счетчик постов около заголовка категории.
* `.pl_postlist` — контейнер списка постов (div), относящихся к отдельной категории.
* `.pl_date` — дата поста в списке.
* `.pl_expand` — ссылка для раскрытия списков и облака.

##Спасибо

Спасибо Jens Törnell за WP Simple Sitemap, послуживший мне хорошим примером в программировании плагинов для WordPress. Спасибо так же Valerio Proietti за MooTools и всем, кто поддержал мировое равновесие.